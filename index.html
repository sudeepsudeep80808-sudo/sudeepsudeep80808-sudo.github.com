<!DOCTYPE html>
<html>
<head>
  <title>Plastic Connect</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  
  <style>
    body { margin:0; font-family:'Poppins', sans-serif; background:#f5f5f5; scroll-behavior: smooth;}
    nav { background:#00c853; padding:15px; text-align:center; position:sticky; top:0;}
    nav a { color:white; margin:0 15px; text-decoration:none; font-weight:600;}
    header { height:90vh; background:linear-gradient(to right,#00c853,#64dd17); color:white; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:20px;}
    header h1{ font-size:50px; margin:10px 0;}
    header p{ font-size:20px;}
    button{ margin-top:20px; padding:12px 30px; background:white; color:#00c853; border:none; border-radius:25px; font-weight:bold; cursor:pointer; transition:0.3s;}
    button:hover{ background:#333; color:white;}
    section{ padding:60px 20px; text-align:center;}
    .card{ background:white; padding:25px; margin:20px auto; max-width:500px; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); transition:transform 0.3s;}
    .card:hover{ transform:translateY(-10px);}
    footer{ background:#222; color:white; text-align:center; padding:20px;}
    input,textarea{ width:90%; padding:10px; margin:10px 0; border-radius:8px; border:1px solid #ccc;}
    #dashboard{ display:none; }
  </style>
</head>
<body>

<nav>
  <a href="#">Home</a>
  <a href="#about">About</a>
  <a href="#how">How It Works</a>
  <a href="#contact">Contact</a>
  <a href="#login">Login</a>
</nav>

<header>
  <h1>Plastic Connect ‚ôªÔ∏è</h1>
  <p>India‚Äôs Smart Plastic Recycling Marketplace</p>
  <button>Start Selling</button>
</header>

<section id="about">
  <h2>About Us</h2>
  <div class="card">
    We connect plastic sellers with verified recycling companies to reduce waste and create income opportunities.
  </div>
</section>

<section id="how">
  <h2>How It Works</h2>
  <div class="card">1Ô∏è‚É£ Upload Plastic Details</div>
  <div class="card">2Ô∏è‚É£ Get Matched with Recyclers</div>
  <div class="card">3Ô∏è‚É£ Earn Money & Save Environment</div>
</section>

<section id="contact">
  <h2>Contact Us</h2>
  <div class="card">
    <input type="text" id="name" placeholder="Your Name" required>
    <input type="email" id="email" placeholder="Your Email" required>
    <textarea id="message" placeholder="Your Message" required></textarea>
    <br>
    <button id="submitBtn">Submit</button>
    <p id="statusMsg" style="color: green;"></p>
  </div>
</section>

<section id="login">
  <h2>Login</h2>
  <div class="card">
    <input type="email" id="loginEmail" placeholder="Email" required>
    <input type="password" id="loginPassword" placeholder="Password" required>
    <br>
    <button id="loginBtn">Login</button>
    <p id="loginStatus" style="color: green;"></p>
    <p>Don't have an account? <a href="#" id="signupLink">Sign Up</a></p>
  </div>
</section>

<section id="signup" style="display:none;">
  <h2>Sign Up</h2>
  <div class="card">
    <input type="email" id="signupEmail" placeholder="Email" required>
    <input type="password" id="signupPassword" placeholder="Password" required>
    <br>
    <button id="signupBtn">Sign Up</button>
    <p id="signupStatus" style="color: green;"></p>
    <p>Already have an account? <a href="#" id="loginLink">Login</a></p>
  </div>
</section>

<section id="dashboard">
  <h2>Seller Dashboard</h2>
  <div class="card">
    <h3>Upload Plastic Item</h3>
    <input type="text" id="plasticType" placeholder="Plastic Type" required>
    <input type="number" id="plasticWeight" placeholder="Weight (kg)" required>
    <button id="uploadBtn">Upload</button>
    <p id="uploadStatus" style="color: green;"></p>
  </div>
</section>

<footer>
  ¬© 2026 Plastic Connect | Built by Sudeep üöÄ
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyBrQAvfoyWsZTbUPKQwpRHBh0QnNy3WYP0",
  authDomain: "plasticconnect-e1279.firebaseapp.com",
  projectId: "plasticconnect-e1279",
  storageBucket: "plasticconnect-e1279.firebasestorage.app",
  messagingSenderId: "950524632903",
  appId: "1:950524632903:web:7dc373416cb1509dc03662"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const auth = getAuth(app);
console.log("üî• Firebase Connected Successfully");

// Contact Form
const submitBtn = document.getElementById("submitBtn");
submitBtn.addEventListener("click", ()=>{
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const message = document.getElementById("message").value;
  if(name && email && message){
    const messagesRef = ref(db,'contacts');
    const newMessageRef = push(messagesRef);
    set(newMessageRef,{ name,email,message,timestamp:Date.now() })
      .then(()=>{ document.getElementById("statusMsg").innerText="Message sent! ‚úÖ"; document.getElementById("name").value=""; document.getElementById("email").value=""; document.getElementById("message").value=""; })
      .catch(err=>{ document.getElementById("statusMsg").innerText="Error sending message ‚ùå"; console.error(err); });
  }else{ document.getElementById("statusMsg").innerText="Please fill all fields ‚ùó"; }
});

// Login/Signup Toggle
const signupLink = document.getElementById("signupLink");
const loginLink = document.getElementById("loginLink");
signupLink.addEventListener("click",()=>{ document.getElementById("login").style.display="none"; document.getElementById("signup").style.display="block"; });
loginLink.addEventListener("click",()=>{ document.getElementById("signup").style.display="none"; document.getElementById("login").style.display="block"; });

// Signup
document.getElementById("signupBtn").addEventListener("click",()=>{
  const email=document.getElementById("signupEmail").value;
  const password=document.getElementById("signupPassword").value;
  createUserWithEmailAndPassword(auth,email,password)
    .then(userCredential=>{ document.getElementById("signupStatus").innerText="Account created! ‚úÖ"; console.log(userCredential.user); document.getElementById("signupEmail").value=""; document.getElementById("signupPassword").value=""; })
    .catch(error=>{ document.getElementById("signupStatus").innerText=error.message; console.error(error); });
});

// Login
document.getElementById("loginBtn").addEventListener("click",()=>{
  const email=document.getElementById("loginEmail").value;
  const password=document.getElementById("loginPassword").value;
  signInWithEmailAndPassword(auth,email,password)
    .then(userCredential=>{
      document.getElementById("loginStatus").innerText="Logged in successfully! ‚úÖ";
      document.getElementById("loginEmail").value=""; document.getElementById("loginPassword").value="";
    })
    .catch(error=>{
      document.getElementById("loginStatus").innerText=error.message;
      console.error(error);
    });
});

// Show dashboard only when logged in
onAuthStateChanged(auth,user=>{
  if(user){
    document.getElementById("dashboard").style.display="block";
    document.getElementById("login").style.display="none";
    document.getElementById("signup").style.display="none";
  } else {
    document.getElementById("dashboard").style.display="none";
  }
});

// Upload Plastic Items
document.getElementById("uploadBtn").addEventListener("click",()=>{
  const type=document.getElementById("plasticType").value;
  const weight=document.getElementById("plasticWeight").value;
  if(type && weight){
    const plasticsRef=ref(db,'plastics');
    const newRef=push(plasticsRef);
    set(newRef,{ type, weight, timestamp:Date.now() })
      .then(()=>{ document.getElementById("uploadStatus").innerText="Plastic item uploaded! ‚úÖ"; document.getElementById("plasticType").value=""; document.getElementById("plasticWeight").value=""; })
      .catch(err=>{ document.getElementById("uploadStatus").innerText="Error uploading ‚ùå"; console.error(err); });
  } else { document.getElementById("uploadStatus").innerText="Fill all fields ‚ùó"; }
});
</script>

</body>
</html>
